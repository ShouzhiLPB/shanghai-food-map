# 上海本帮菜地图 - 使用说明

## 📱 项目简介

这是一个轻量级的上海本帮菜餐厅地图网站，无需安装APP，可在手机和电脑浏览器直接打开使用。

## 🎨 特色功能

✅ **真实地图展示** - 基于高德地图API，准确标注餐厅位置  
✅ **移动端友好** - 完美适配手机/平板/电脑  
✅ **小红书风格UI** - 美观的配色和交互设计  
✅ **全国都能访问** - 支持云端部署，上海四川都能打开  
✅ **地址搜索** - 输入地址快速定位  
✅ **详细信息** - 查看餐厅菜单、价格、推荐菜品  
✅ **小红书跳转** - 直接查看小红书推荐内容  
✅ **编辑模式** - 随时添加/编辑餐厅信息  
✅ **轻量级** - 纯前端实现，无需服务器和数据库  

## 🚀 快速开始

### ⚡ 超级简单！

**直接双击 `index.html` 就能用！**

- ✅ 不需要API Key
- ✅ 不需要注册账号
- ✅ 不需要手机验证码
- ✅ 不需要任何配置

本项目使用 **OpenStreetMap（开源地图）**，完全免费，开箱即用！

---

### 选择使用方式

#### ⭐ 方式A：云端部署（推荐 - 全国都能访问）

**适用场景：**
- ✅ 想让任何地方的人都能访问
- ✅ 即使电脑关机也能用
- ✅ 需要分享给朋友使用

**5分钟快速部署：**
查看 **[5分钟部署教程.md](./5分钟部署教程.md)** 或 **[云端部署教程.md](./云端部署教程.md)**

部署后获得永久网址，如：`https://你的用户名.github.io/shanghai-food-map/`

---

#### 方式B：本地运行（仅自己使用）

**方法一：直接打开**
- 双击 `index.html` 文件即可在浏览器中打开

**方法二：本地服务器**
```bash
# 使用 Python 启动
python -m http.server 8000

# 或使用 Node.js
npx http-server
```

然后在浏览器访问 `http://localhost:8000`

**手机访问（同一WiFi下）：**
1. 查看电脑IP地址
   - Windows: 打开CMD，输入 `ipconfig`
   - Mac/Linux: 打开终端，输入 `ifconfig`
2. 手机浏览器访问 `http://你的IP地址:8000`

⚠️ **注意**：本地运行仅限同一WiFi，电脑关机后无法访问

## 📖 功能使用指南

### 查看餐厅

1. 打开网站后，地图上会显示所有餐厅标记（红色位置图标）
2. 点击标记，底部弹出餐厅信息卡片
3. 点击"查看更多"可查看完整菜单和小红书链接

### 搜索地址

1. 点击右上角搜索图标🔍
2. 输入地址，如"南京东路100号"
3. 点击"搜索"，地图会自动定位

### 编辑模式

#### 添加新餐厅

1. 点击右上角"编辑模式"按钮
2. 点击底部"+ 添加餐厅"
3. 填写表单：
   - **餐厅名称** *（必填）
   - **详细地址** *（必填，然后点击"📍 定位"获取坐标）
   - **人均价格** *（如：¥80-150）
   - **推荐菜品** *（每行一个）
   - **餐厅图片**（可选，输入图片URL）
   - **完整菜单**（可选）
   - **小红书链接**（可选）
4. 点击"保存"

#### 编辑现有餐厅

1. 进入"编辑模式"
2. 点击地图上的餐厅标记
3. 在弹出的编辑表单中修改信息
4. 点击"保存"

## 🎨 UI 配色方案

本项目采用小红书风格配色：

- **主色调**: #ff2442 (小红书红)
- **背景色**: #fff (纯白)
- **文字色**: #333 (深灰)
- **边框色**: #e6e6e6 (浅灰)

## 💾 数据存储

所有餐厅数据保存在浏览器的 `localStorage` 中：
- ✅ 无需服务器
- ✅ 数据永久保存（除非清除浏览器缓存）
- ✅ 每个设备独立存储

**注意**: 如果需要在多设备间同步数据，可以：
1. 导出浏览器的localStorage数据
2. 或者修改代码连接到云数据库

## 📱 浏览器兼容性

- ✅ Chrome / Edge (推荐)
- ✅ Safari (iOS/Mac)
- ✅ Firefox
- ✅ 微信内置浏览器
- ✅ 所有现代移动浏览器

## 🛠️ 技术栈

- **HTML5** - 结构
- **CSS3** - 样式（Flexbox布局，响应式设计）
- **JavaScript (ES6+)** - 交互逻辑
- **Leaflet.js** - 开源地图库
- **OpenStreetMap** - 免费地图数据
- **Nominatim** - 地址搜索服务（免费）
- **localStorage** - 数据存储

## 📂 文件结构

```
本帮菜/
├── index.html          # 主页面
├── styles.css          # 样式文件
├── app.js             # JavaScript逻辑
└── README.md          # 使用说明
```

## 🔧 高级配置

### 修改默认地图中心

编辑 `app.js` 第2-7行：

```javascript
const CONFIG = {
    amapKey: 'YOUR_AMAP_KEY',
    center: [121.4737, 31.2304], // 经度、纬度
    zoom: 12  // 缩放级别 (3-18)
};
```

### 自定义默认餐厅数据

编辑 `app.js` 中的 `getDefaultData()` 方法，添加初始餐厅数据。

### 更换地图风格

编辑 `app.js` 第62行：

```javascript
mapStyle: 'amap://styles/whitesmoke' 
```

可选风格：
- `amap://styles/normal` - 标准
- `amap://styles/dark` - 暗色
- `amap://styles/light` - 浅色
- `amap://styles/whitesmoke` - 白烟（当前）

## ❓ 常见问题

**Q: 地图无法显示？**  
A: 检查网络连接，确保能访问 OpenStreetMap 服务。

**Q: 手机无法访问？**  
A: 确保手机和电脑在同一WiFi下，检查防火墙设置。

**Q: 添加餐厅后定位失败？**  
A: 确保地址格式完整，如"黄浦区南京东路100号"，而不是简写。地址搜索使用免费的 Nominatim 服务，可能偶尔较慢，请稍等或重试。

**Q: 数据会丢失吗？**  
A: 数据保存在浏览器localStorage中，除非手动清除缓存，否则会永久保存。

**Q: 为什么改用OpenStreetMap？**  
A: OpenStreetMap是开源免费的地图服务，不需要API Key和手机验证，使用更方便！

**Q: 如何导出数据？**  
A: 按F12打开开发者工具 → Console → 输入：
```javascript
copy(localStorage.getItem('shanghai_restaurants'))
```
数据会复制到剪贴板。

**Q: 如何导入数据？**  
A: 按F12打开开发者工具 → Console → 输入：
```javascript
localStorage.setItem('shanghai_restaurants', '粘贴的数据')
```

## 📝 更新日志

### v1.0.0 (2026-02-08)
- ✅ 初始版本发布
- ✅ 基础地图展示功能
- ✅ 餐厅标记和信息展示
- ✅ 地址搜索功能
- ✅ 编辑模式（添加/编辑餐厅）
- ✅ 小红书风格UI
- ✅ 移动端适配
- ✅ 数据本地存储

## 📄 许可证

MIT License - 可自由使用、修改和分发

## 🤝 贡献

欢迎提交Issue和Pull Request！

---

**享受美食，探索上海！** 🍜✨
